import{e as fr,c as Je,r as ot,d as je,p as lt,a as Fe,b as Ue,h as J,f as Pe,m as vr,s as It,g as Be,l as Mt,u as Ze,i as h,j as Pt,k as ct,E as Nt,n as Ft,H as Bt,o as et,q as Ge,t as De,v as pr,w as o,x as K,C as mr,y as _r,z as bt,A as ge,B as xt,D as H,F as ut,G as hr,I as gr,J as br,K as xr,L as Qe,M as yr,N as wr,O as Dt,P as dt,Q as Ar,R as Ut,S as kr,T as Tr,U as Er,V as Ot,W as Sr,X as Rr,Y as Lr,Z as $t,_ as Cr,$ as ue,a0 as Ir,a1 as Mr,a2 as Pr,a3 as Nr,a4 as Fr,a5 as Yt,a6 as Br,a7 as yt,a8 as Dr,a9 as b,aa as Ur,ab as Or,ac as $r,ad as Yr,ae as z,af as zr,ag as Hr,ah as Vr,ai as jr,aj as Gr,ak as Wr,al as qr,am as Xr,an as Kr,ao as ne,ap as xe,aq as B,ar as $,as as E,at as Z,au as ee,av as wt,aw as ae,ax as j,ay as m,az as p,aA as x,aB as be,aC as N,aD as We,aE as ft,aF as ze,aG as he,aH as Qr}from"./render.Clyv-kL2.js";/* empty css                       */const Jr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Jr);fr();function zt(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}class Zr{anchor;#t=new Map;#r=new Map;#e=new Map;#a=new Set;#n=!0;constructor(a,t=!0){this.anchor=a,this.#n=t}#i=()=>{var a=Je;if(this.#t.has(a)){var t=this.#t.get(a),r=this.#r.get(t);if(r)ot(r),this.#a.delete(t);else{var n=this.#e.get(t);n&&(this.#r.set(t,n.effect),this.#e.delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[s,i]of this.#t){if(this.#t.delete(s),s===a)break;const l=this.#e.get(i);l&&(je(l.effect),this.#e.delete(i))}for(const[s,i]of this.#r){if(s===t||this.#a.has(s))continue;const l=()=>{if(Array.from(this.#t.values()).includes(s)){var d=document.createDocumentFragment();vr(i,d),d.append(Fe()),this.#e.set(s,{effect:i,fragment:d})}else je(i);this.#a.delete(s),this.#r.delete(s)};this.#n||!r?(this.#a.add(s),lt(i,l,!1)):l()}}};#s=a=>{this.#t.delete(a);const t=Array.from(this.#t.values());for(const[r,n]of this.#e)t.includes(r)||(je(n.effect),this.#e.delete(r))};ensure(a,t){var r=Je,n=It();if(t&&!this.#r.has(a)&&!this.#e.has(a))if(n){var s=document.createDocumentFragment(),i=Fe();s.append(i),this.#e.set(a,{effect:Ue(()=>t(i)),fragment:s})}else this.#r.set(a,Ue(()=>t(this.anchor)));if(this.#t.set(r,a),n){for(const[l,c]of this.#r)l===a?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[l,c]of this.#e)l===a?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.oncommit(this.#i),r.ondiscard(this.#s)}else J&&(this.anchor=Pe),this.#i()}}function Ie(e){Be===null&&zt(),Mt&&Be.l!==null?ta(Be).m.push(e):Ze(()=>{const a=h(e);if(typeof a=="function")return a})}function ea(e){Be===null&&zt(),Ie(()=>()=>h(e))}function ta(e){var a=e.l;return a.u??={a:[],b:[],m:[]}}function O(e,a,t=!1){J&&ct();var r=new Zr(e),n=t?Nt:0;function s(i,l){if(J){const d=Ft(e)===Bt;if(i===d){var c=et();Ge(c),r.anchor=c,De(!1),r.ensure(i,l),De(!0);return}}r.ensure(i,l)}Pt(()=>{var i=!1;a((l,c=!0)=>{i=!0,s(c,l)}),i||s(!1,null)},n)}function Oe(e,a){return a}function ra(e,a,t){for(var r=[],n=a.length,s,i=a.length,l=0;l<n;l++){let _=a[l];lt(_,()=>{if(s){if(s.pending.delete(_),s.done.add(_),s.pending.size===0){var v=e.outrogroups;tt(ut(s.done)),v.delete(s),v.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var c=r.length===0&&t!==null;if(c){var d=t,f=d.parentNode;wr(f),f.append(d),e.items.clear()}tt(a,!c)}else s={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(s)}function tt(e,a=!0){for(var t=0;t<e.length;t++)je(e[t],a)}var At;function Me(e,a,t,r,n,s=null){var i=e,l=new Map,c=(a&Dt)!==0;if(c){var d=e;i=J?Ge(pr(d)):d.appendChild(Fe())}J&&ct();var f=null,_=K(()=>{var g=t();return hr(g)?g:g==null?[]:ut(g)}),v,k=!0;function y(){u.fallback=f,aa(u,v,i,a,r),f!==null&&(v.length===0?f.f&ge?(f.f^=ge,Ne(f,null,i)):ot(f):lt(f,()=>{f=null}))}var A=Pt(()=>{v=o(_);var g=v.length;let w=!1;if(J){var T=Ft(i)===Bt;T!==(g===0)&&(i=et(),Ge(i),De(!1),w=!0)}for(var L=new Set,C=Je,S=It(),R=0;R<g;R+=1){J&&Pe.nodeType===mr&&Pe.data===_r&&(i=Pe,w=!0,De(!1));var M=v[R],F=r(M,R),P=k?null:l.get(F);P?(P.v&&bt(P.v,M),P.i&&bt(P.i,R),S&&C.skipped_effects.delete(P.e)):(P=na(l,k?i:At??=Fe(),M,F,R,n,a,t),k||(P.e.f|=ge),l.set(F,P)),L.add(F)}if(g===0&&s&&!f&&(k?f=Ue(()=>s(i)):(f=Ue(()=>s(At??=Fe())),f.f|=ge)),J&&g>0&&Ge(et()),!k)if(S){for(const[U,Y]of l)L.has(U)||C.skipped_effects.add(Y.e);C.oncommit(y),C.ondiscard(()=>{})}else y();w&&De(!0),o(_)}),u={effect:A,items:l,outrogroups:null,fallback:f};k=!1,J&&(i=Pe)}function aa(e,a,t,r,n){var s=(r&Ar)!==0,i=a.length,l=e.items,c=e.effect.first,d,f=null,_,v=[],k=[],y,A,u,g;if(s)for(g=0;g<i;g+=1)y=a[g],A=n(y,g),u=l.get(A).e,u.f&ge||(u.nodes?.a?.measure(),(_??=new Set).add(u));for(g=0;g<i;g+=1){if(y=a[g],A=n(y,g),u=l.get(A).e,e.outrogroups!==null)for(const P of e.outrogroups)P.pending.delete(u),P.done.delete(u);if(u.f&ge)if(u.f^=ge,u===c)Ne(u,null,t);else{var w=f?f.next:c;u===e.effect.last&&(e.effect.last=u.prev),u.prev&&(u.prev.next=u.next),u.next&&(u.next.prev=u.prev),we(e,f,u),we(e,u,w),Ne(u,w,t),f=u,v=[],k=[],c=f.next;continue}if(u.f&Qe&&(ot(u),s&&(u.nodes?.a?.unfix(),(_??=new Set).delete(u))),u!==c){if(d!==void 0&&d.has(u)){if(v.length<k.length){var T=k[0],L;f=T.prev;var C=v[0],S=v[v.length-1];for(L=0;L<v.length;L+=1)Ne(v[L],T,t);for(L=0;L<k.length;L+=1)d.delete(k[L]);we(e,C.prev,S.next),we(e,f,C),we(e,S,T),c=T,f=S,g-=1,v=[],k=[]}else d.delete(u),Ne(u,c,t),we(e,u.prev,u.next),we(e,u,f===null?e.effect.first:f.next),we(e,f,u),f=u;continue}for(v=[],k=[];c!==null&&c!==u;)(d??=new Set).add(c),k.push(c),c=c.next;if(c===null)continue}u.f&ge||v.push(u),f=u,c=u.next}if(e.outrogroups!==null){for(const P of e.outrogroups)P.pending.size===0&&(tt(ut(P.done)),e.outrogroups?.delete(P));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||d!==void 0){var R=[];if(d!==void 0)for(u of d)u.f&Qe||R.push(u);for(;c!==null;)!(c.f&Qe)&&c!==e.fallback&&R.push(c),c=c.next;var M=R.length;if(M>0){var F=r&Dt&&i===0?t:null;if(s){for(g=0;g<M;g+=1)R[g].nodes?.a?.measure();for(g=0;g<M;g+=1)R[g].nodes?.a?.fix()}ra(e,R,F)}}s&&dt(()=>{if(_!==void 0)for(u of _)u.nodes?.a?.apply()})}function na(e,a,t,r,n,s,i,l){var c=i&gr?i&br?xt(t):H(t,!1,!1):null,d=i&xr?xt(n):null;return{v:c,i:d,e:Ue(()=>(s(a,c??t,d??n,l),()=>{e.delete(r)}))}}function Ne(e,a,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end,s=a&&!(a.f&ge)?a.nodes.start:t;r!==null;){var i=yr(r);if(s.before(r),r===n)return;r=i}}function we(e,a,t){a===null?e.effect.first=t:a.next=t,t===null?e.effect.last=a:t.prev=a}function ia(e,a,t,r,n){J&&ct();var s=a.$$slots?.[t],i=!1;s===!0&&(s=a.children,i=!0),s===void 0||s(e,i?()=>r:r)}const sa=()=>performance.now(),me={tick:e=>requestAnimationFrame(e),now:()=>sa(),tasks:new Set};function Ht(){const e=me.now();me.tasks.forEach(a=>{a.c(e)||(me.tasks.delete(a),a.f())}),me.tasks.size!==0&&me.tick(Ht)}function Vt(e){let a;return me.tasks.size===0&&me.tick(Ht),{promise:new Promise(t=>{me.tasks.add(a={c:e,f:t})}),abort(){me.tasks.delete(a)}}}function He(e,a){$t(()=>{e.dispatchEvent(new CustomEvent(a))})}function oa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function kt(e){const a={},t=e.split(";");for(const r of t){const[n,s]=r.split(":");if(!n||s===void 0)break;const i=oa(n.trim());a[i]=s.trim()}return a}const la=e=>e;function V(e,a,t,r){var n=(e&Rr)!==0,s=(e&Lr)!==0,i=n&&s,l=(e&Sr)!==0,c=i?"both":n?"in":"out",d,f=a.inert,_=a.style.overflow,v,k;function y(){return $t(()=>d??=t()(a,r?.()??{},{direction:c}))}var A={is_global:l,in(){if(a.inert=f,!n){k?.abort(),k?.reset?.();return}s||v?.abort(),He(a,"introstart"),v=rt(a,y(),k,1,()=>{He(a,"introend"),v?.abort(),v=d=void 0,a.style.overflow=_})},out(T){if(!s){T?.(),d=void 0;return}a.inert=!0,He(a,"outrostart"),k=rt(a,y(),v,0,()=>{He(a,"outroend"),T?.()})},stop:()=>{v?.abort(),k?.abort()}},u=Ut;if((u.nodes.t??=[]).push(A),n&&kr){var g=l;if(!g){for(var w=u.parent;w&&w.f&Nt;)for(;(w=w.parent)&&!(w.f&Tr););g=!w||(w.f&Er)!==0}g&&Ot(()=>{h(()=>A.in())})}}function rt(e,a,t,r,n){var s=r===1;if(Cr(a)){var i,l=!1;return dt(()=>{if(!l){var u=a({direction:s?"in":"out"});i=rt(e,u,t,r,n)}}),{abort:()=>{l=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t?.deactivate(),!a?.duration)return n(),{abort:ue,deactivate:ue,reset:ue,t:()=>r};const{delay:c=0,css:d,tick:f,easing:_=la}=a;var v=[];if(s&&t===void 0&&(f&&f(0,1),d)){var k=kt(d(0,1));v.push(k,k)}var y=()=>1-r,A=e.animate(v,{duration:c,fill:"forwards"});return A.onfinish=()=>{A.cancel();var u=t?.t()??1-r;t?.abort();var g=r-u,w=a.duration*Math.abs(g),T=[];if(w>0){var L=!1;if(d)for(var C=Math.ceil(w/16.666666666666668),S=0;S<=C;S+=1){var R=u+g*_(S/C),M=kt(d(R,1-R));T.push(M),L||=M.overflow==="hidden"}L&&(e.style.overflow="hidden"),y=()=>{var F=A.currentTime;return u+g*_(F/w)},f&&Vt(()=>{if(A.playState!=="running")return!1;var F=y();return f(F,1-F),!0})}A=e.animate(T,{duration:w,fill:"forwards"}),A.onfinish=()=>{y=()=>r,f?.(r,1-r),n()}},{abort:()=>{A&&(A.cancel(),A.effect=null,A.onfinish=ue)},deactivate:()=>{n=ue},reset:()=>{r===0&&f?.(1,0)},t:()=>y()}}function ca(e,a,t){var r=e==null?"":""+e;return r===""?null:r}function ua(e,a){return e==null?null:String(e)}function jt(e,a,t,r,n,s){var i=e.__className;if(J||i!==t||i===void 0){var l=ca(t);(!J||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=t}return s}function Le(e,a,t,r){var n=e.__style;if(J||n!==a){var s=ua(a);(!J||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=a}return r}const da=Symbol("is custom element"),fa=Symbol("is html");function pe(e,a,t,r){var n=va(e);J&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=t)&&(a==="loading"&&(e[Ir]=t),t==null?e.removeAttribute(a):typeof t!="string"&&pa(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function va(e){return e.__attributes??={[da]:e.nodeName.includes("-"),[fa]:e.namespaceURI===Mr}}var Tt=new Map;function pa(e){var a=e.getAttribute("is")||e.nodeName,t=Tt.get(a);if(t)return t;Tt.set(a,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=Nr(n);for(var i in r)r[i].set&&t.push(i);n=Pr(n)}return t}function Et(e,a){return e===a||e?.[Yt]===a}function ma(e={},a,t,r){return Ot(()=>{var n,s;return Fr(()=>{n=s,s=[],h(()=>{e!==t(...s)&&(a(e,...s),n&&Et(t(...n),e)&&a(null,...n))})}),()=>{dt(()=>{s&&Et(t(...s),e)&&a(null,...s)})}}),e}function _a(e){return function(...a){var t=a[0];return t.stopPropagation(),e?.apply(this,a)}}function te(e=!1){const a=Be,t=a.l.u;if(!t)return;let r=()=>b(a.s);if(e){let n=0,s={};const i=Ur(()=>{let l=!1;const c=a.s;for(const d in c)c[d]!==s[d]&&(s[d]=c[d],l=!0);return l&&n++,n});r=()=>o(i)}t.b.length&&Br(()=>{St(a,r),yt(t.b)}),Ze(()=>{const n=h(()=>t.m.map(Dr));return()=>{for(const s of n)typeof s=="function"&&s()}}),t.a.length&&Ze(()=>{St(a,r),yt(t.a)})}function St(e,a){if(e.l.s)for(const t of e.l.s)o(t);a()}function Gt(e,a,t){if(e==null)return a(void 0),ue;const r=h(()=>e.subscribe(a,t));return r.unsubscribe?()=>r.unsubscribe():r}const Re=[];function at(e,a=ue){let t=null;const r=new Set;function n(l){if(Or(e,l)&&(e=l,t)){const c=!Re.length;for(const d of r)d[1](),Re.push(d,e);if(c){for(let d=0;d<Re.length;d+=2)Re[d][0](Re[d+1]);Re.length=0}}}function s(l){n(l(e))}function i(l,c=ue){const d=[l,c];return r.add(d),r.size===1&&(t=a(n,s)||ue),l(e),()=>{r.delete(d),r.size===0&&t&&(t(),t=null)}}return{set:n,update:s,subscribe:i}}function ha(e){let a;return Gt(e,t=>a=t)(),a}let Ve=!1,nt=Symbol();function it(e,a,t){const r=t[a]??={store:null,source:H(void 0),unsubscribe:ue};if(r.store!==e&&!(nt in t))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=ue;else{var n=!0;r.unsubscribe=Gt(e,s=>{n?r.source.v=s:z(r.source,s)}),n=!1}return e&&nt in t?ha(e):o(r.source)}function Wt(){const e={};function a(){$r(()=>{for(var t in e)e[t].unsubscribe();Yr(e,nt,{enumerable:!1,value:!0})})}return[e,a]}function ga(e){var a=Ve;try{return Ve=!1,[e(),Ve]}finally{Ve=a}}function I(e,a,t,r){var n=!Mt||(t&Wr)!==0,s=(t&qr)!==0,i=r,l=!0,c=()=>(l&&(l=!1,i=r),i),d;{var f=Yt in e||Kr in e;d=zr(e,a)?.set??(f&&a in e?w=>e[a]=w:void 0)}var _,v=!1;[_,v]=ga(()=>e[a]),_===void 0&&r!==void 0&&(_=c(),d&&(n&&Hr(),d(_)));var k;if(n?k=()=>{var w=e[a];return w===void 0?c():(l=!0,w)}:k=()=>{var w=e[a];return w!==void 0&&(i=void 0),w===void 0?i:w},n&&!(t&Vr))return k;if(d){var y=e.$$legacy;return function(w,T){return arguments.length>0?((!n||!T||y||v)&&d(T?k():w),w):k()}}var A=!1,u=K(()=>(A=!1,k()));o(u);var g=Ut;return function(w,T){if(arguments.length>0){const L=T?o(u):n&&s?jr(w):w;return z(u,L),A=!0,i!==void 0&&(i=L),w}return Xr&&A||g.f&Gr?u.v:o(u)}}function Ce(e,a,t){const r=e.createShader(a);return r?(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.error("Shader compile error:",e.getShaderInfoLog(r)),e.deleteShader(r),null)):null}function vt(e,a,t){const r=e.createProgram();return r?(e.attachShader(r,a),e.attachShader(r,t),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)?r:(console.error("Program link error:",e.getProgramInfoLog(r)),e.deleteProgram(r),null)):null}function de(e){const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?[parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255]:[0,0,0]}const pt=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),mt=`
  attribute vec2 a_position;
  varying vec2 v_uv;
  void main() {
    v_uv = a_position * 0.5 + 0.5;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,ba=`
  precision mediump float;
  varying vec2 v_uv;
  uniform float u_time;
  uniform float u_intensity;
  uniform vec3 u_color1;
  uniform vec3 u_color2;
  uniform vec3 u_color3;
  uniform vec3 u_bg;

  float blob(vec2 uv, vec2 center, float radius) {
    float d = length(uv - center);
    return smoothstep(radius, radius * 0.3, d);
  }

  void main() {
    vec2 uv = v_uv;
    float t = u_time * 0.1 * u_intensity;

    vec2 c1 = vec2(0.3 + sin(t * 0.7) * 0.2, 0.4 + cos(t * 0.5) * 0.2);
    vec2 c2 = vec2(0.7 + cos(t * 0.6) * 0.2, 0.6 + sin(t * 0.8) * 0.2);
    vec2 c3 = vec2(0.5 + sin(t * 0.9) * 0.2, 0.3 + cos(t * 0.4) * 0.2);

    float b1 = blob(uv, c1, 0.4);
    float b2 = blob(uv, c2, 0.35);
    float b3 = blob(uv, c3, 0.3);

    vec3 color = u_bg;
    color = mix(color, u_color1, b1 * 0.6);
    color = mix(color, u_color2, b2 * 0.5);
    color = mix(color, u_color3, b3 * 0.4);

    gl_FragColor = vec4(color, 1.0);
  }
`,xa={gl:null,program:null,buffer:null,startTime:0,palette:null,currentIntensity:.5,init(e,a){this.gl=e,this.palette=a,this.startTime=performance.now();const t=Ce(e,e.VERTEX_SHADER,mt),r=Ce(e,e.FRAGMENT_SHADER,ba);!t||!r||(this.program=vt(e,t,r),this.program&&(this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,pt,e.STATIC_DRAW)))},update(e,a,t){const r=this.gl,n=this.program;if(!r||!n||!this.palette)return;this.currentIntensity=t;const s=(performance.now()-this.startTime)/1e3;r.useProgram(n);const i=r.getAttribLocation(n,"a_position");r.bindBuffer(r.ARRAY_BUFFER,this.buffer),r.enableVertexAttribArray(i),r.vertexAttribPointer(i,2,r.FLOAT,!1,0,0),r.uniform1f(r.getUniformLocation(n,"u_time"),s),r.uniform1f(r.getUniformLocation(n,"u_intensity"),t),r.uniform3fv(r.getUniformLocation(n,"u_color1"),de(this.palette.primary)),r.uniform3fv(r.getUniformLocation(n,"u_color2"),de(this.palette.secondary)),r.uniform3fv(r.getUniformLocation(n,"u_color3"),de(this.palette.accent)),r.uniform3fv(r.getUniformLocation(n,"u_bg"),de(this.palette.background)),r.drawArrays(r.TRIANGLES,0,6)},transition(e,a){this.currentIntensity=e.intensity},destroy(){this.gl&&this.program&&this.gl.deleteProgram(this.program),this.gl&&this.buffer&&this.gl.deleteBuffer(this.buffer)}},ya=`
  precision mediump float;
  varying vec2 v_uv;
  uniform float u_time;
  uniform float u_intensity;
  uniform vec3 u_color1;
  uniform vec3 u_color2;
  uniform vec3 u_bg;

  float random(vec2 st) {
    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453123);
  }

  void main() {
    vec2 uv = v_uv;
    vec3 color = u_bg;
    float t = u_time * 0.05 * u_intensity;

    for (int i = 0; i < 50; i++) {
      float fi = float(i);
      vec2 pos = vec2(
        fract(random(vec2(fi, 0.0)) + t * (0.02 + random(vec2(fi, 1.0)) * 0.03)),
        fract(random(vec2(fi, 2.0)) + t * (0.01 + random(vec2(fi, 3.0)) * 0.02))
      );

      float size = 0.003 + random(vec2(fi, 4.0)) * 0.005;
      float d = length(uv - pos);
      float brightness = smoothstep(size, size * 0.3, d);
      brightness *= 0.5 + 0.5 * sin(t * 2.0 + fi);

      vec3 particleColor = mix(u_color1, u_color2, random(vec2(fi, 5.0)));
      color = mix(color, particleColor, brightness * 0.8);
    }

    gl_FragColor = vec4(color, 1.0);
  }
`,wa={gl:null,program:null,buffer:null,startTime:0,palette:null,init(e,a){this.gl=e,this.palette=a,this.startTime=performance.now();const t=Ce(e,e.VERTEX_SHADER,mt),r=Ce(e,e.FRAGMENT_SHADER,ya);!t||!r||(this.program=vt(e,t,r),this.program&&(this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,pt,e.STATIC_DRAW)))},update(e,a,t){const r=this.gl,n=this.program;if(!r||!n||!this.palette)return;const s=(performance.now()-this.startTime)/1e3;r.useProgram(n);const i=r.getAttribLocation(n,"a_position");r.bindBuffer(r.ARRAY_BUFFER,this.buffer),r.enableVertexAttribArray(i),r.vertexAttribPointer(i,2,r.FLOAT,!1,0,0),r.uniform1f(r.getUniformLocation(n,"u_time"),s),r.uniform1f(r.getUniformLocation(n,"u_intensity"),t),r.uniform3fv(r.getUniformLocation(n,"u_color1"),de(this.palette.primary)),r.uniform3fv(r.getUniformLocation(n,"u_color2"),de(this.palette.accent)),r.uniform3fv(r.getUniformLocation(n,"u_bg"),de(this.palette.background)),r.drawArrays(r.TRIANGLES,0,6)},transition(e,a){},destroy(){this.gl&&this.program&&this.gl.deleteProgram(this.program),this.gl&&this.buffer&&this.gl.deleteBuffer(this.buffer)}},Aa=`
  precision mediump float;
  varying vec2 v_uv;
  uniform float u_time;
  uniform float u_intensity;
  uniform vec3 u_color1;
  uniform vec3 u_color2;
  uniform vec3 u_color3;
  uniform vec3 u_bg;

  void main() {
    vec2 uv = v_uv;
    float t = u_time * 0.2 * u_intensity;

    float wave1 = sin(uv.x * 3.0 + t) * 0.1 + sin(uv.x * 7.0 - t * 0.5) * 0.05;
    float wave2 = sin(uv.x * 4.0 - t * 0.7) * 0.08 + sin(uv.x * 9.0 + t * 0.3) * 0.04;
    float wave3 = sin(uv.x * 5.0 + t * 0.4) * 0.07 + sin(uv.x * 11.0 - t * 0.6) * 0.03;

    float band1 = smoothstep(0.1, 0.0, abs(uv.y - 0.7 - wave1));
    float band2 = smoothstep(0.15, 0.0, abs(uv.y - 0.5 - wave2));
    float band3 = smoothstep(0.12, 0.0, abs(uv.y - 0.3 - wave3));

    vec3 color = u_bg;
    color = mix(color, u_color1, band1 * 0.7);
    color = mix(color, u_color2, band2 * 0.6);
    color = mix(color, u_color3, band3 * 0.5);

    gl_FragColor = vec4(color, 1.0);
  }
`,ka={gl:null,program:null,buffer:null,startTime:0,palette:null,init(e,a){this.gl=e,this.palette=a,this.startTime=performance.now();const t=Ce(e,e.VERTEX_SHADER,mt),r=Ce(e,e.FRAGMENT_SHADER,Aa);!t||!r||(this.program=vt(e,t,r),this.program&&(this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,pt,e.STATIC_DRAW)))},update(e,a,t){const r=this.gl,n=this.program;if(!r||!n||!this.palette)return;const s=(performance.now()-this.startTime)/1e3;r.useProgram(n);const i=r.getAttribLocation(n,"a_position");r.bindBuffer(r.ARRAY_BUFFER,this.buffer),r.enableVertexAttribArray(i),r.vertexAttribPointer(i,2,r.FLOAT,!1,0,0),r.uniform1f(r.getUniformLocation(n,"u_time"),s),r.uniform1f(r.getUniformLocation(n,"u_intensity"),t),r.uniform3fv(r.getUniformLocation(n,"u_color1"),de(this.palette.primary)),r.uniform3fv(r.getUniformLocation(n,"u_color2"),de(this.palette.secondary)),r.uniform3fv(r.getUniformLocation(n,"u_color3"),de(this.palette.accent)),r.uniform3fv(r.getUniformLocation(n,"u_bg"),de(this.palette.background)),r.drawArrays(r.TRIANGLES,0,6)},transition(e,a){},destroy(){this.gl&&this.program&&this.gl.deleteProgram(this.program),this.gl&&this.buffer&&this.gl.deleteBuffer(this.buffer)}},Ta={gradient_blob:xa,particles:wa,aurora:ka};function Ea(e){return Ta[e]||null}var Sa=B('<canvas class="fixed inset-0 w-full h-full -z-10"></canvas>');function Ra(e,a){ee(a,!1);const t=H(),r=H();let n=I(a,"theme",8,null),s=I(a,"currentSlide",8,"intro"),i=H(),l=H(null),c=null,d=null,f=0,_=H(1),v=H(s()),k=!1;const y={primary:"#1DB954",secondary:"#191414",accent:"#1ed760",background:"#121212",text:"#ffffff"},A={visualization:"gradient_blob",mood:"calm",intensity:1};function u(){if(o(i)){if(z(l,o(i).getContext("webgl")),!o(l)){console.error("WebGL not supported");return}g()}}function g(){!o(i)||!o(l)||typeof window>"u"||(wt(i,o(i).width=window.innerWidth),wt(i,o(i).height=window.innerHeight),o(l).viewport(0,0,o(i).width,o(i).height))}function w(S){c&&c.destroy(),c=Ea(S),c&&o(l)&&c.init(o(l),o(t))}function T(S){k||S===o(v)||(k=!0,z(_,0),setTimeout(()=>{const R=n()?.slides?.[S]||A;w(R.visualization),z(v,S),setTimeout(()=>{z(_,1),k=!1},50)},400))}function L(S){const R=S-f;f=S,o(l)&&c&&(o(l).clearColor(0,0,0,1),o(l).clear(o(l).COLOR_BUFFER_BIT),c.update(R,o(r).mood,o(r).intensity)),d=requestAnimationFrame(L)}Ie(()=>{u(),w(o(r).visualization),d=requestAnimationFrame(L),window.addEventListener("resize",g)}),ea(()=>{d&&cancelAnimationFrame(d),c&&c.destroy(),typeof window<"u"&&window.removeEventListener("resize",g)}),ne(()=>b(n()),()=>{z(t,n()?.palette||y)}),ne(()=>(b(n()),b(s())),()=>{z(r,n()?.slides?.[s()]||A)}),ne(()=>(o(l),b(s()),o(v)),()=>{o(l)&&s()!==o(v)&&T(s())}),xe(),te();var C=Sa();ma(C,S=>z(i,S),()=>o(i)),$(()=>Le(C,`opacity: ${o(_)??""}; transition: opacity 400ms ease-in-out`)),E(e,C),Z()}const La=e=>e;function qt(e){const a=e-1;return a*a*a+1}function Rt(e){const a=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return a?[parseFloat(a[1]),a[2]||"px"]:[e,"px"]}function Xt(e,{delay:a=0,duration:t=400,easing:r=La}={}){const n=+getComputedStyle(e).opacity;return{delay:a,duration:t,easing:r,css:s=>`opacity: ${s*n}`}}function W(e,{delay:a=0,duration:t=400,easing:r=qt,x:n=0,y:s=0,opacity:i=0}={}){const l=getComputedStyle(e),c=+l.opacity,d=l.transform==="none"?"":l.transform,f=c*(1-i),[_,v]=Rt(n),[k,y]=Rt(s);return{delay:a,duration:t,easing:r,css:(A,u)=>`
			transform: ${d} translate(${(1-A)*_}${v}, ${(1-A)*k}${y});
			opacity: ${c-f*u}`}}function Ca(e,{delay:a=0,duration:t=400,easing:r=qt,start:n=0,opacity:s=0}={}){const i=getComputedStyle(e),l=+i.opacity,c=i.transform==="none"?"":i.transform,d=1-n,f=l*(1-s);return{delay:a,duration:t,easing:r,css:(_,v)=>`
			transform: ${c} scale(${1-d*v});
			opacity: ${l-f*v}
		`}}var Ia=B('<div class="min-h-screen flex flex-col items-center pt-24 pb-8 px-8 text-center"><div class="bg-black/40 backdrop-blur-sm rounded-2xl p-8 w-full max-w-2xl min-h-[500px] flex flex-col justify-center"><!></div></div>');function oe(e,a){let t=I(a,"visible",8,!0);var r=ae(),n=j(r);{var s=i=>{var l=Ia(),c=m(l),d=m(c);ia(d,a,"default",{}),p(c),p(l),V(1,l,()=>W,()=>({y:30,duration:400})),V(2,l,()=>Xt,()=>({duration:150})),E(i,l)};O(n,i=>{t()&&i(s)})}E(e,r)}var Ma=B('<p class="text-wrapped-muted text-xl mb-4">Your</p> <h1 class="text-7xl font-black mb-4"> </h1> <p class="text-wrapped-muted text-xl mb-8">Wrapped</p> <p class="text-2xl font-semibold text-wrapped-accent"> </p> <p class="mt-16 text-wrapped-muted animate-pulse">Tap to continue</p>',1);function Pa(e,a){let t=I(a,"userName",8),r=I(a,"year",8),n=I(a,"visible",8,!0);oe(e,{get visible(){return n()},children:(s,i)=>{var l=Ma(),c=x(j(l),2),d=m(c,!0);p(c);var f=x(c,4),_=m(f,!0);p(f),be(2),$(()=>{N(d,r()),N(_,t())}),E(s,l)},$$slots:{default:!0}})}function Lt(e){return Object.prototype.toString.call(e)==="[object Date]"}function Na(e){return e}function Fa(e){const a=e-1;return a*a*a+1}function st(e,a){if(e===a||e!==e)return()=>e;const t=typeof e;if(t!==typeof a||Array.isArray(e)!==Array.isArray(a))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=a.map((n,s)=>st(e[s],n));return n=>r.map(s=>s(n))}if(t==="object"){if(!e||!a)throw new Error("Object cannot be null");if(Lt(e)&&Lt(a)){const s=e.getTime(),l=a.getTime()-s;return c=>new Date(s+c*l)}const r=Object.keys(a),n={};return r.forEach(s=>{n[s]=st(e[s],a[s])}),s=>{const i={};return r.forEach(l=>{i[l]=n[l](s)}),i}}if(t==="number"){const r=a-e;return n=>e+n*r}return()=>a}function Ba(e,a={}){const t=at(e);let r,n=e;function s(i,l){if(n=i,e==null)return t.set(e=i),Promise.resolve();let c=r,d=!1,{delay:f=0,duration:_=400,easing:v=Na,interpolate:k=st}={...a,...l};if(_===0)return c&&(c.abort(),c=null),t.set(e=n),Promise.resolve();const y=me.now()+f;let A;return r=Vt(u=>{if(u<y)return!0;d||(A=k(e,i),typeof _=="function"&&(_=_(e,i)),d=!0),c&&(c.abort(),c=null);const g=u-y;return g>_?(t.set(e=i),!1):(t.set(e=A(v(g/_))),!0)}),r.promise}return{set:s,update:(i,l)=>s(i(n,e),l),subscribe:t.subscribe}}var Da=B('<span class="tabular-nums"> </span>');function qe(e,a){ee(a,!1);const t=()=>it(c,"$displayValue",r),[r,n]=Wt();let s=I(a,"value",8),i=I(a,"duration",8,2e3),l=I(a,"format",8,_=>Math.round(_).toLocaleString());const c=Ba(0,{duration:i(),easing:Fa});Ie(()=>{c.set(s())}),te();var d=Da(),f=m(d,!0);p(d),$(_=>N(f,_),[()=>(b(l()),t(),h(()=>l()(t())))]),E(e,d),Z(),n()}var Ua=B(`<p class="text-wrapped-muted text-xl mb-4">You listened for</p> <div class="text-8xl font-black text-wrapped-accent mb-2"><!></div> <p class="text-2xl mb-8">minutes</p> <p class="text-wrapped-muted text-lg">That's <span class="text-wrapped-text font-semibold"> </span></p> <p class="text-wrapped-muted text-lg">or <span class="text-wrapped-text font-semibold"> </span> of music</p>`,1);function Oa(e,a){ee(a,!1);const t=H(),r=H();let n=I(a,"totalMinutes",8),s=I(a,"visible",8,!0);ne(()=>b(n()),()=>{z(t,Math.round(n()/60))}),ne(()=>b(n()),()=>{z(r,(n()/60/24).toFixed(1))}),xe(),te(),oe(e,{get visible(){return s()},children:(i,l)=>{var c=Ua(),d=x(j(c),2),f=m(d);qe(f,{get value(){return n()}}),p(d);var _=x(d,4),v=x(m(_)),k=m(v);p(v),p(_);var y=x(_,2),A=x(m(y)),u=m(A);p(A),be(),p(y),$(g=>{N(k,`${g??""} hours`),N(u,`${o(r)??""} days`)},[()=>(o(t),h(()=>o(t).toLocaleString()))]),E(i,c)},$$slots:{default:!0}}),Z()}var $a=B('<img class="w-48 h-48 rounded-lg shadow-2xl mb-6 object-cover"/>'),Ya=B('<p class="text-wrapped-muted text-xl mb-8">Your top artist was</p> <!> <h2 class="text-5xl font-black mb-4"> </h2> <div class="flex gap-8 text-center"><div><div class="text-3xl font-bold text-wrapped-accent"><!></div> <p class="text-wrapped-muted">plays</p></div> <div><div class="text-3xl font-bold text-wrapped-accent"><!></div> <p class="text-wrapped-muted">hours</p></div></div>',1);function za(e,a){ee(a,!1);let t=I(a,"artist",8),r=I(a,"visible",8,!0);te(),oe(e,{get visible(){return r()},children:(n,s)=>{var i=Ya(),l=x(j(i),2);{var c=w=>{var T=$a();$(()=>{pe(T,"src",(b(t()),h(()=>t().image_url))),pe(T,"alt",(b(t()),h(()=>t().name)))}),V(1,T,()=>W,()=>({y:30,duration:600,delay:200})),E(w,T)};O(l,w=>{b(t()),h(()=>t().image_url)&&w(c)})}var d=x(l,2),f=m(d,!0);p(d);var _=x(d,2),v=m(_),k=m(v),y=m(k);qe(y,{get value(){return b(t()),h(()=>t().plays)}}),p(k),be(2),p(v);var A=x(v,2),u=m(A),g=m(u);{let w=K(()=>(b(t()),h(()=>Math.round(t().minutes/60))));qe(g,{get value(){return o(w)}})}p(u),be(2),p(A),p(_),$(()=>N(f,(b(t()),h(()=>t().name)))),E(n,i)},$$slots:{default:!0}}),Z()}var Ha=B('<img class="w-16 h-16 rounded shadow-lg object-cover"/>'),Va=B('<div class="track-item flex items-center gap-4 bg-wrapped-secondary/20 rounded-lg p-4 backdrop-blur"><div class="text-4xl font-black text-wrapped-accent w-12 text-center"> </div> <!> <div class="flex-1 text-left"><div class="font-bold text-lg"> </div> <div class="text-wrapped-muted text-sm"> </div></div> <div class="text-right"><div class="text-2xl font-bold text-wrapped-accent"><!></div> <div class="text-wrapped-muted text-sm">plays</div></div></div>'),ja=B('<h2 class="text-4xl font-black mb-12 text-wrapped-accent">Your Top 5 Tracks</h2> <div class="space-y-4 max-w-2xl w-full"></div>',1);function Ga(e,a){ee(a,!1);const t=H();let r=I(a,"tracks",8),n=I(a,"visible",8,!0);const s=5;let i=H(0);ne(()=>b(r()),()=>{z(t,r().slice(0,s))}),ne(()=>(b(n()),o(i),o(t)),()=>{if(n()&&o(i)<o(t).length){const l=setInterval(()=>{We(i),o(i)>=o(t).length&&clearInterval(l)},800)}}),xe(),te(),oe(e,{get visible(){return n()},children:(l,c)=>{var d=ja(),f=x(j(d),2);Me(f,7,()=>(o(t),o(i),h(()=>o(t).slice(0,o(i)))),_=>_.name+_.artist,(_,v,k)=>{var y=Va(),A=m(y),u=m(A);p(A);var g=x(A,2);{var w=U=>{var Y=Ha();$(()=>{pe(Y,"src",(o(v),h(()=>o(v).album_art))),pe(Y,"alt",(o(v),h(()=>o(v).name)))}),V(1,Y,()=>Ca,()=>({duration:400,delay:200})),E(U,Y)};O(g,U=>{o(v),h(()=>o(v).album_art)&&U(w)})}var T=x(g,2),L=m(T),C=m(L,!0);p(L);var S=x(L,2),R=m(S,!0);p(S),p(T);var M=x(T,2),F=m(M),P=m(F);qe(P,{get value(){return o(v),h(()=>o(v).plays)}}),p(F),be(2),p(M),p(y),$(()=>{N(u,`#${o(k)+1}`),N(C,(o(v),h(()=>o(v).name))),N(R,(o(v),h(()=>o(v).artist)))}),V(1,y,()=>W,()=>({y:20,duration:400})),E(_,y)}),p(f),E(l,d)},$$slots:{default:!0}}),Z()}var Wa=ft('<line stroke="currentColor" stroke-width="6" stroke-linecap="round" class="text-wrapped-accent transition-all duration-500"></line>'),qa=ft('<text text-anchor="middle" dominant-baseline="middle" class="text-2xl"> </text>'),Xa=ft("<!><!>",1),Ka=B(`<h2 class="text-4xl font-black mb-8 text-wrapped-accent">Your Listening Clock</h2> <p class="text-wrapped-muted text-lg mb-12">When you pressed play</p> <div class="relative w-96 h-96 mx-auto"><svg viewBox="0 0 500 500" class="w-full h-full overflow-visible"><circle cx="250" cy="250" r="120" fill="none" stroke="currentColor" stroke-width="1" class="text-wrapped-muted opacity-20"></circle><!></svg></div> <div class="mt-8 text-center"><p class="text-wrapped-muted text-sm">Most active: <span class="text-wrapped-accent font-bold"> </span></p> <p class="text-lg font-semibold mt-2">You're a <span class="text-wrapped-accent"> </span></p></div>`,1);function Qa(e,a){ee(a,!1);let t=I(a,"hourly_data",8),r=I(a,"visible",8,!0),n=H(0),s=H(!1);Ie(()=>{z(s,!0)});function i(f){return o(n)>0?f/o(n)*100:0}function l(f){return f===0?"12am":f===12?"12pm":f>12?`${f-12}pm`:`${f}am`}function c(f){return f===0?"üåô":f===6?"üåÖ":f===12?"‚òÄÔ∏è":f===18?"üåÜ":""}function d(f){return f>=22||f<6?"Night Owl":f>=6&&f<12?"Morning Person":f>=12&&f<17?"Afternoon Groover":"Evening Listener"}ne(()=>b(t()),()=>{t()&&z(n,Math.max(...t().map(f=>f.plays)))}),xe(),te(),oe(e,{get visible(){return r()},children:(f,_)=>{const v=K(()=>(b(t()),h(()=>t().reduce((M,F)=>F.plays>M.plays?F:M,t()[0]).hour)));var k=Ka(),y=x(j(k),4),A=m(y),u=x(m(A));Me(u,1,t,Oe,(M,F,P)=>{let U=()=>o(F).hour,Y=()=>o(F).plays;const D=K(()=>(U(),h(()=>(U()*15-90)*(Math.PI/180)))),G=K(()=>(Y(),h(()=>30+i(Y())*.6))),le=K(()=>(b(o(D)),h(()=>250+Math.cos(o(D))*70))),q=K(()=>(b(o(D)),h(()=>250+Math.sin(o(D))*70))),se=K(()=>(b(o(D)),b(o(G)),h(()=>250+Math.cos(o(D))*(70+o(G))))),X=K(()=>(b(o(D)),b(o(G)),h(()=>250+Math.sin(o(D))*(70+o(G)))));var re=Xa(),ie=j(re);{var Q=ve=>{var ce=Wa();$(()=>{pe(ce,"x1",o(le)),pe(ce,"y1",o(q)),pe(ce,"x2",o(se)),pe(ce,"y2",o(X)),Le(ce,`opacity: ${.3+Y()/o(n)*.7}`)}),V(1,ce,()=>Xt,()=>({duration:400,delay:P*50})),E(ve,ce)};O(ie,ve=>{o(s)&&r()&&ve(Q)})}var _e=x(ie);{var fe=ve=>{const ce=K(()=>(b(o(D)),h(()=>250+Math.cos(o(D))*185))),Xe=K(()=>(b(o(D)),h(()=>250+Math.sin(o(D))*185)));var Ae=qa(),ye=m(Ae,!0);p(Ae),$($e=>{pe(Ae,"x",o(ce)),pe(Ae,"y",o(Xe)),N(ye,$e)},[()=>(U(),h(()=>c(U())))]),E(ve,Ae)};O(_e,ve=>{U()%6===0&&ve(fe)})}E(M,re)}),p(A),p(y);var g=x(y,2),w=m(g),T=x(m(w)),L=m(T,!0);p(T),p(w);var C=x(w,2),S=x(m(C)),R=m(S,!0);p(S),p(C),p(g),$((M,F)=>{N(L,M),N(R,F)},[()=>(b(o(v)),h(()=>l(o(v)))),()=>(b(o(v)),h(()=>d(o(v))))]),E(f,k)},$$slots:{default:!0}}),Z()}var Ja=B('<div class="bg-wrapped-secondary/20 rounded-xl p-6 backdrop-blur"><div class="text-2xl mb-2">üåô</div> <h3 class="text-xl font-bold mb-2">Late Night Anthem</h3> <p class="text-lg"><span class="text-wrapped-accent font-bold"> </span> </p> <p class="text-wrapped-muted text-sm mt-2"> </p></div>'),Za=B('<div class="bg-wrapped-secondary/20 rounded-xl p-6 backdrop-blur"><div class="text-2xl mb-2">‚è±Ô∏è</div> <h3 class="text-xl font-bold mb-2">Marathon Session</h3> <p class="text-lg"><span class="text-wrapped-accent font-bold"> </span> of continuous listening</p> <p class="text-wrapped-muted text-sm mt-2"> </p></div>'),en=B('<div class="bg-wrapped-secondary/20 rounded-xl p-6 backdrop-blur"><div class="text-2xl mb-2">üîÅ</div> <h3 class="text-xl font-bold mb-2">Repeat Champion</h3> <p class="text-lg"><span class="text-wrapped-accent font-bold"> </span> </p> <p class="text-wrapped-muted text-sm mt-2"> </p></div>'),tn=B('<div class="bg-wrapped-secondary/20 rounded-xl p-6 backdrop-blur"><div class="text-2xl mb-2">üé≠</div> <h3 class="text-xl font-bold mb-2">Mood Shifts</h3> <div class="flex justify-around mt-4"><div class="text-center"><p class="text-sm text-wrapped-muted mb-1">Morning</p> <p class="text-wrapped-accent font-bold"> </p></div> <div class="text-center"><p class="text-sm text-wrapped-muted mb-1">Evening</p> <p class="text-wrapped-accent font-bold"> </p></div></div></div>'),rn=B('<h2 class="text-4xl font-black mb-12 text-wrapped-accent">Your Quirky Stats</h2> <div class="space-y-8 max-w-xl mx-auto"><!> <!> <!> <!></div>',1);function an(e,a){ee(a,!1);let t=I(a,"stats",8),r=I(a,"visible",8,!0);te(),oe(e,{get visible(){return r()},children:(n,s)=>{var i=rn(),l=x(j(i),2),c=m(l);{var d=u=>{var g=Ja(),w=x(m(g),4),T=m(w),L=m(T,!0);p(T);var C=x(T);p(w);var S=x(w,2),R=m(S);p(S),p(g),$(()=>{N(L,(b(t()),h(()=>t().late_night_anthem.name))),N(C,` by ${b(t()),h(()=>t().late_night_anthem.artist)??""}`),N(R,`Played ${b(t()),h(()=>t().late_night_anthem.count)??""} times after midnight`)}),V(1,g,()=>W,()=>({y:30,duration:500,delay:200})),E(u,g)};O(c,u=>{b(t()),h(()=>t().late_night_anthem)&&u(d)})}var f=x(c,2);{var _=u=>{var g=Za(),w=x(m(g),4),T=m(w),L=m(T);p(T),be(),p(w);var C=x(w,2),S=m(C,!0);p(C),p(g),$((R,M)=>{N(L,`${R??""}h
            ${b(t()),h(()=>t().longest_session.duration_minutes%60)??""}m`),N(S,M)},[()=>(b(t()),h(()=>Math.floor(t().longest_session.duration_minutes/60))),()=>(b(t()),h(()=>new Date(t().longest_session.date).toLocaleDateString()))]),V(1,g,()=>W,()=>({y:30,duration:500,delay:400})),E(u,g)};O(f,u=>{b(t()),h(()=>t().longest_session)&&u(_)})}var v=x(f,2);{var k=u=>{var g=en(),w=x(m(g),4),T=m(w),L=m(T,!0);p(T);var C=x(T);p(w);var S=x(w,2),R=m(S);p(S),p(g),$(()=>{N(L,(b(t()),h(()=>t().most_repeated.name))),N(C,` by ${b(t()),h(()=>t().most_repeated.artist)??""}`),N(R,`Played ${b(t()),h(()=>t().most_repeated.streak)??""} times in a row`)}),V(1,g,()=>W,()=>({y:30,duration:500,delay:600})),E(u,g)};O(v,u=>{b(t()),h(()=>t().most_repeated)&&u(k)})}var y=x(v,2);{var A=u=>{var g=tn(),w=x(m(g),4),T=m(w),L=x(m(T),2),C=m(L,!0);p(L),p(T);var S=x(T,2),R=x(m(S),2),M=m(R,!0);p(R),p(S),p(w),p(g),$(()=>{N(C,(b(t()),h(()=>t().genre_mood.morning))),N(M,(b(t()),h(()=>t().genre_mood.evening)))}),V(1,g,()=>W,()=>({y:30,duration:500,delay:800})),E(u,g)};O(y,u=>{b(t()),h(()=>t().genre_mood)&&u(A)})}p(l),E(n,i)},$$slots:{default:!0}}),Z()}var nn=B('<div class="max-w-2xl mx-auto"><p class="text-wrapped-muted text-xl mb-4">Your listening personality</p> <h2 class="text-5xl font-black text-wrapped-accent mb-4"> </h2> <p class="text-2xl italic text-wrapped-muted mb-8"> </p> <div class="bg-wrapped-secondary/20 rounded-xl p-6 mb-8 backdrop-blur"><p class="text-lg text-left leading-relaxed"> </p></div> <div class="bg-wrapped-card rounded-lg px-6 py-4 inline-block"><p class="text-wrapped-muted text-sm mb-1">Spirit Animal</p> <p class="text-lg font-semibold"> </p></div></div>');function sn(e,a){ee(a,!1);let t=I(a,"personality",8),r=I(a,"visible",8,!0);te(),oe(e,{get visible(){return r()},children:(n,s)=>{var i=nn(),l=x(m(i),2),c=m(l,!0);p(l);var d=x(l,2),f=m(d);p(d);var _=x(d,2),v=m(_),k=m(v,!0);p(v),p(_);var y=x(_,2),A=x(m(y),2),u=m(A,!0);p(A),p(y),p(i),$(()=>{N(c,(b(t()),h(()=>t().type))),N(f,`"${b(t()),h(()=>t().tagline)??""}"`),N(k,(b(t()),h(()=>t().description))),N(u,(b(t()),h(()=>t().spirit_animal)))}),E(n,i)},$$slots:{default:!0}}),Z()}var on=B('<h3 class="text-5xl font-black mb-8 svelte-1jc1l80"> </h3>'),ln=B('<div class="max-w-2xl mx-auto svelte-1jc1l80"><h2 class="text-4xl font-black mb-4 text-wrapped-accent svelte-1jc1l80">Your Musical Aura</h2> <div class="w-48 h-48 mx-auto rounded-full shadow-2xl mb-6 svelte-1jc1l80"></div> <!> <div class="bg-wrapped-secondary/20 rounded-xl p-6 backdrop-blur svelte-1jc1l80"><p class="text-lg text-left leading-relaxed svelte-1jc1l80"> </p></div></div>');function cn(e,a){ee(a,!1);const t=H();let r=I(a,"aura",8),n=I(a,"visible",8,!0),s=H(!1);Ie(()=>{z(s,!0)}),ne(()=>b(r()),()=>{z(t,`background: linear-gradient(135deg, ${r().primary_color}, ${r().secondary_color})`)}),xe(),te(),oe(e,{get visible(){return n()},children:(i,l)=>{var c=ln(),d=x(m(c),2),f=x(d,2);{var _=A=>{var u=on(),g=m(u,!0);p(u),$(()=>{Le(u,`color: ${b(r()),h(()=>r().primary_color)??""}`),N(g,(b(r()),h(()=>r().vibe)))}),V(1,u,()=>W,()=>({y:20,duration:600,delay:600})),E(A,u)};O(f,A=>{o(s)&&n()&&A(_)})}var v=x(f,2),k=m(v),y=m(k,!0);p(k),p(v),p(c),$(()=>{Le(d,`${o(t)??""}; animation: pulse 3s ease-in-out infinite;`),N(y,(b(r()),h(()=>r().description)))}),V(1,d,()=>W,()=>({scale:.5,duration:800,delay:200})),V(1,v,()=>W,()=>({y:30,duration:500,delay:1e3})),E(i,c)},$$slots:{default:!0}}),Z()}var un=B('<div class="bg-wrapped-secondary/20 rounded-xl p-8 backdrop-blur border-2 border-wrapped-accent/20"><div class="flex items-start gap-4"><div class="text-4xl">üî•</div> <div class="flex-1"><p class="text-xl leading-relaxed italic"> </p></div></div></div>'),dn=B('<div class="mt-12 text-wrapped-muted text-sm"><p>Just kidding - your taste is actually pretty good</p></div>'),fn=B('<div class="max-w-3xl mx-auto"><h2 class="text-4xl font-black mb-4 text-wrapped-accent">The Roast</h2> <p class="text-wrapped-muted text-lg mb-12">Your taste, roasted by AI</p> <div class="space-y-8"></div> <!></div>');function vn(e,a){ee(a,!1);let t=I(a,"roasts",8),r=I(a,"visible",8,!0),n=H(0);ne(()=>(b(r()),b(t()),o(n)),()=>{if(r()&&t().length>0){z(n,0);const s=setInterval(()=>{We(n),o(n)>=t().length&&clearInterval(s)},3e3)}}),xe(),te(),oe(e,{get visible(){return r()},children:(s,i)=>{var l=fn(),c=x(m(l),4);Me(c,5,()=>(b(t()),o(n),h(()=>t().slice(0,o(n)+1))),Oe,(_,v)=>{var k=un(),y=m(k),A=x(m(y),2),u=m(A),g=m(u);p(u),p(A),p(y),p(k),$(()=>N(g,`"${o(v)??""}"`)),V(1,k,()=>W,()=>({x:-50,duration:600})),E(_,k)}),p(c);var d=x(c,2);{var f=_=>{var v=dn();V(1,v,()=>W,()=>({y:20,duration:400,delay:500})),E(_,v)};O(d,_=>{o(n),b(t()),h(()=>o(n)>=t().length-1)&&_(f)})}p(l),E(s,l)},$$slots:{default:!0}}),Z()}var pn=B("<p> </p>"),mn=B('<span class="inline-block w-2 h-5 bg-wrapped-accent animate-pulse ml-1"></span>'),_n=B('<div class="text-lg leading-relaxed space-y-6"><!> <!></div>'),hn=B('<p class="text-xl text-wrapped-muted italic text-center">Your musical story is still being written...</p>'),gn=B('<div class="mt-8 text-wrapped-muted text-sm italic"><p>- Written by AI, inspired by your listening</p></div>'),bn=B('<div class="max-w-3xl mx-auto"><h2 class="text-4xl font-black mb-12 text-wrapped-accent">Your Year in Music</h2> <div class="bg-wrapped-secondary/20 rounded-xl p-10 backdrop-blur"><!></div> <!></div>');function xn(e,a){ee(a,!1);const t=()=>it(c,"$displayedText",n),r=()=>it(d,"$currentIndex",n),[n,s]=Wt();let i=I(a,"narrative",8),l=I(a,"visible",8,!0);const c=at(""),d=at(0);let f=H(!1),_=H(null);Ie(()=>(z(f,!0),()=>{o(_)&&clearInterval(o(_))})),ne(()=>(b(l()),o(f),b(i()),o(_)),()=>{l()&&o(f)&&i()&&(o(_)&&clearInterval(o(_)),c.set(""),d.set(0),z(_,setInterval(()=>{d.update(v=>v<i().length?(c.update(k=>k+i()[v]),v+1):(o(_)&&clearInterval(o(_)),v))},30)))}),xe(),te(),oe(e,{get visible(){return l()},children:(v,k)=>{var y=bn(),A=x(m(y),2),u=m(A);{var g=C=>{var S=_n(),R=m(S);Me(R,1,()=>(t(),h(()=>t().split(`

`))),Oe,(P,U,Y)=>{var D=pn();jt(D,1,`text-left ${Y===0?"text-xl font-medium":Y%2===1?"text-wrapped-muted":""}`);var G=m(D,!0);p(D),$(()=>N(G,o(U))),E(P,D)});var M=x(R,2);{var F=P=>{var U=mn();E(P,U)};O(M,P=>{r(),b(i()),h(()=>r()<i().length)&&P(F)})}p(S),E(C,S)},w=C=>{var S=hn();E(C,S)};O(u,C=>{i()?C(g):C(w,!1)})}p(A);var T=x(A,2);{var L=C=>{var S=gn();V(1,S,()=>W,()=>({y:20,duration:400,delay:300})),E(C,S)};O(T,C=>{b(i()),r(),h(()=>i()&&r()>=i().length)&&C(L)})}p(y),V(1,A,()=>W,()=>({y:30,duration:500,delay:200})),E(v,y)},$$slots:{default:!0}}),Z(),s()}var yn=B('<div class="bg-wrapped-secondary/20 rounded-xl p-5 backdrop-blur text-left"><div class="flex items-start gap-4"><div class="w-10 h-10 rounded-full bg-wrapped-accent/20 flex items-center justify-center flex-shrink-0 text-xl"><!></div> <p class="text-lg leading-relaxed"> </p></div></div>'),wn=B('<div class="space-y-4"></div>'),An=B('<div class="bg-wrapped-secondary/20 rounded-xl p-8 backdrop-blur"><p class="text-wrapped-muted italic">Keep listening to get personalized suggestions for next year!</p></div>'),kn=B(`<div class="max-w-2xl mx-auto"><h2 class="text-4xl font-black mb-4 text-wrapped-accent">Looking Ahead</h2> <p class="text-wrapped-muted text-lg mb-10"> </p> <!> <p class="text-wrapped-muted text-sm mt-10 italic">Here's to another year of great music</p></div>`);function Tn(e,a){ee(a,!1);let t=I(a,"suggestions",8),r=I(a,"year",8),n=I(a,"visible",8,!0);te(),oe(e,{get visible(){return n()},children:(s,i)=>{var l=kn(),c=x(m(l),2),d=m(c);p(c);var f=x(c,2);{var _=y=>{var A=wn();Me(A,5,t,Oe,(u,g,w)=>{var T=yn(),L=m(T),C=m(L),S=m(C);{var R=U=>{var Y=ze("üéµ");E(U,Y)},M=U=>{var Y=ae(),D=j(Y);{var G=q=>{var se=ze("üéß");E(q,se)},le=q=>{var se=ae(),X=j(se);{var re=Q=>{var _e=ze("üé∏");E(Q,_e)},ie=Q=>{var _e=ze("‚ú®");E(Q,_e)};O(X,Q=>{w===2?Q(re):Q(ie,!1)},!0)}E(q,se)};O(D,q=>{w===1?q(G):q(le,!1)},!0)}E(U,Y)};O(S,U=>{w===0?U(R):U(M,!1)})}p(C);var F=x(C,2),P=m(F,!0);p(F),p(L),p(T),$(()=>N(P,o(g))),V(1,T,()=>W,()=>({y:20,duration:400,delay:200+w*150})),E(u,T)}),p(A),E(y,A)},v=y=>{var A=An();E(y,A)};O(f,y=>{b(t()),h(()=>t()&&t().length>0)?y(_):y(v,!1)})}var k=x(f,2);p(l),$(()=>N(d,`Based on your listening, here's what to try in ${r()+1}`)),V(1,k,()=>W,()=>({y:10,duration:300,delay:800})),E(s,l)},$$slots:{default:!0}}),Z()}const En="modulepreload",Sn=function(e){return"/"+e},Ct={},Rn=function(a,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");n=Promise.allSettled(t.map(c=>{if(c=Sn(c),c in Ct)return;Ct[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":En,d||(_.as="script"),_.crossOrigin="",_.href=c,l&&_.setAttribute("nonce",l),document.head.appendChild(_),d)return new Promise((v,k)=>{_.addEventListener("load",v),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return n.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return a().catch(s)})};var Ln=B('<div class="bg-white/10 rounded-xl p-4 text-center"><p class="text-xs opacity-70 uppercase tracking-wider mb-1">Top Artist</p> <p class="text-xl font-bold truncate"> </p> <p class="text-sm opacity-50"> </p></div>'),Cn=B('<div class="summary-card w-[400px] h-[600px] bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] p-6 flex flex-col text-white" style="font-family: system-ui, -apple-system, sans-serif;"><div class="text-center mb-6"><p class="text-lg opacity-70 mb-1"> </p> <h1 class="text-4xl font-black text-[#1DB954] leading-tight">Music Wrapped</h1> <p class="text-xl font-bold mt-1"> </p></div> <div class="flex-1 space-y-3"><div class="bg-white/10 rounded-xl p-4 text-center"><p class="text-xs opacity-70 uppercase tracking-wider mb-1">Total Time</p> <p class="text-4xl font-black text-[#1DB954]"> </p> <p class="text-sm opacity-70">hours of music</p></div> <!> <div class="bg-white/10 rounded-xl p-4 text-center"><p class="text-xs opacity-70 uppercase tracking-wider mb-1">Listening Personality</p> <p class="text-base font-bold leading-snug"> </p></div> <div class="rounded-xl p-4 flex items-center justify-center gap-3"><div class="w-10 h-10 rounded-full shadow-lg flex-shrink-0"></div> <div class="text-center"><p class="text-xs opacity-70 uppercase tracking-wider">Aura</p> <p class="font-bold text-sm"> </p></div></div></div> <div class="text-center mt-4 opacity-40 text-xs"><p>Made with Plex listening data</p></div></div>');function In(e,a){ee(a,!1);const t=H();let r=I(a,"userName",8),n=I(a,"year",8),s=I(a,"totalMinutes",8),i=I(a,"topArtist",8),l=I(a,"personalityType",8),c=I(a,"auraColor",8),d=I(a,"auraVibe",8);ne(()=>b(s()),()=>{z(t,Math.round(s()/60))}),xe(),te();var f=Cn(),_=m(f),v=m(_),k=m(v);p(v);var y=x(v,4),A=m(y,!0);p(y),p(_);var u=x(_,2),g=m(u),w=x(m(g),2),T=m(w,!0);p(w),be(2),p(g);var L=x(g,2);{var C=G=>{var le=Ln(),q=x(m(le),2),se=m(q,!0);p(q);var X=x(q,2),re=m(X);p(X),p(le),$(ie=>{N(se,(b(i()),h(()=>i().name))),N(re,`${ie??""} plays`)},[()=>(b(i()),h(()=>i().plays.toLocaleString()))]),E(G,le)};O(L,G=>{i()&&G(C)})}var S=x(L,2),R=x(m(S),2),M=m(R,!0);p(R),p(S);var F=x(S,2),P=m(F),U=x(P,2),Y=x(m(U),2),D=m(Y,!0);p(Y),p(U),p(F),p(u),be(2),p(f),$(G=>{N(k,`${r()??""}'s`),N(A,n()),N(T,G),N(M,l()),Le(F,`background-color: ${c()??""}20;`),Le(P,`background-color: ${c()??""};`),N(D,d())},[()=>(o(t),h(()=>o(t).toLocaleString()))]),E(e,f),Z()}var Mn=B(`<div class="max-w-2xl mx-auto"><div class="mb-12"><h2 class="text-5xl font-black mb-4">That's Your</h2> <h2 class="text-6xl font-black text-wrapped-accent mb-4"> </h2> <p class="text-wrapped-muted text-xl">Thanks for listening</p></div> <div class="mb-8 bg-wrapped-secondary/20 rounded-xl p-4 backdrop-blur"><p class="text-wrapped-muted text-xs uppercase tracking-wider mb-2">Share Caption</p> <pre class="text-sm text-left whitespace-pre-wrap font-sans"> </pre> <button class="mt-3 text-sm text-wrapped-accent hover:underline"> </button></div> <div class="space-y-4 mb-12"><button class="w-full bg-[#0085ff] hover:bg-[#0073e6] text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 shadow-lg"><span class="flex items-center justify-center gap-3"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 600 530"><path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"></path></svg> Share on Bluesky</span></button> <button class="w-full bg-gradient-to-r from-[#833ab4] via-[#fd1d1d] to-[#fcb045] hover:opacity-90 text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 shadow-lg"><span class="flex items-center justify-center gap-3"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg> Share on Instagram</span></button> <button class="w-full bg-wrapped-secondary/20 hover:bg-wrapped-secondary/30 backdrop-blur text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 border-2 border-wrapped-accent/30"><span class="flex items-center justify-center gap-3"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> Copy Link</span></button> <button class="w-full bg-wrapped-secondary/20 hover:bg-wrapped-secondary/30 backdrop-blur text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 border-2 border-wrapped-accent/30"><span class="flex items-center justify-center gap-3"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> Download Image</span></button></div> <div class="text-wrapped-muted text-sm"><p>Made with your Plex listening data</p></div></div>`),Pn=B('<div class="fixed -left-[9999px] top-0"><!></div> <!>',1);function Nn(e,a){ee(a,!1);const t=H(),r=H();let n=I(a,"visible",8,!0),s=I(a,"userName",8),i=I(a,"year",8),l=I(a,"totalMinutes",8,0),c=I(a,"topArtist",8,null),d=I(a,"personalityType",8,""),f=I(a,"auraColor",8,"#1DB954"),_=I(a,"auraVibe",8,""),v=H(!1);function k(){const R=[`My ${i()} Music Wrapped:`];return o(t)>0&&R.push(`${o(t).toLocaleString()} hours of music`),c()&&R.push(`Top artist: ${c().name}`),d()&&R.push(`Listening personality: ${d()}`),_()&&R.push(`Musical aura: ${_()}`),R.push(""),R.push("#MusicWrapped #PlexWrapped"),R.join(`
`)}function y(){const R=encodeURIComponent(o(r)),M=encodeURIComponent(window.location.href);window.open(`https://bsky.app/intent/compose?text=${R}%0A%0A${M}`,"_blank")}function A(){navigator.clipboard.writeText(`${o(r)}

${window.location.href}`),alert("Caption and link copied! Open Instagram and paste in your story or caption.")}function u(){navigator.clipboard.writeText(`${o(r)}

${window.location.href}`),z(v,!0),setTimeout(()=>z(v,!1),2e3)}function g(){navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}async function w(){const{default:R}=await Rn(async()=>{const{default:U}=await import("./html2canvas.esm.BfxBtG_O.js");return{default:U}},[]),M=document.querySelector(".summary-card");if(!M){alert("Could not capture image");return}const F=await R(M,{backgroundColor:null,scale:2}),P=document.createElement("a");P.download=`music-wrapped-${i()}.png`,P.href=F.toDataURL("image/png"),P.click()}ne(()=>b(l()),()=>{z(t,Math.round(l()/60))}),ne(()=>{},()=>{z(r,k())}),xe(),te();var T=Pn(),L=j(T),C=m(L);In(C,{get userName(){return s()},get year(){return i()},get totalMinutes(){return l()},get topArtist(){return c()},get personalityType(){return d()},get auraColor(){return f()},get auraVibe(){return _()}}),p(L);var S=x(L,2);oe(S,{get visible(){return n()},children:(R,M)=>{var F=Mn(),P=m(F),U=x(m(P),2),Y=m(U);p(U),be(2),p(P);var D=x(P,2),G=x(m(D),2),le=m(G,!0);p(G);var q=x(G,2),se=m(q,!0);p(q),p(D);var X=x(D,2),re=m(X),ie=x(re,2),Q=x(ie,2),_e=x(Q,2);p(X);var fe=x(X,2);p(F),$(()=>{N(Y,`Music Wrapped ${i()??""}`),N(le,o(r)),N(se,o(v)?"Copied!":"Copy caption")}),V(1,P,()=>W,()=>({y:-30,duration:600,delay:200})),he("click",q,u),V(1,D,()=>W,()=>({y:20,duration:500,delay:300})),he("click",re,y),he("click",ie,A),he("click",Q,g),he("click",_e,w),V(1,X,()=>W,()=>({y:30,duration:600,delay:400})),V(1,fe,()=>W,()=>({y:20,duration:400,delay:800})),E(R,F)},$$slots:{default:!0}}),E(e,T),Z()}var Fn=B("<button></button>"),Bn=B('<div class="wrapped-container min-h-screen cursor-pointer" role="button" tabindex="0"><!> <div class="fixed top-4 left-1/2 -translate-x-1/2 flex gap-2 z-10"></div> <!></div>');function On(e,a){ee(a,!1);let t=I(a,"data",8),r=H(0);const n=["intro","totalTime","topArtist","topTracks","listeningClock","quirkyStats","personality","aura","roasts","narrative","nextYear","share"];function s(){o(r)<n.length-1&&We(r)}function i(){o(r)>0&&We(r,-1)}function l(y){y.key==="ArrowRight"||y.key===" "?s():y.key==="ArrowLeft"&&i()}te();var c=Bn();he("keydown",Qr,l);var d=m(c);Ra(d,{get theme(){return b(t()),h(()=>t().theme)},get currentSlide(){return o(r),h(()=>n[o(r)])}});var f=x(d,2);Me(f,5,()=>n,Oe,(y,A,u)=>{var g=Fn();$(()=>jt(g,1,`w-2 h-2 rounded-full transition-colors ${u===o(r)?"bg-wrapped-accent":"bg-wrapped-muted opacity-50"}`)),he("click",g,_a(()=>z(r,u))),E(y,g)}),p(f);var _=x(f,2);{var v=y=>{Pa(y,{get userName(){return b(t()),h(()=>t().user.name)},get year(){return b(t()),h(()=>t().user.year)},visible:!0})},k=y=>{var A=ae(),u=j(A);{var g=T=>{Oa(T,{get totalMinutes(){return b(t()),h(()=>t().stats.total_minutes)},visible:!0})},w=T=>{var L=ae(),C=j(L);{var S=M=>{za(M,{get artist(){return b(t()),h(()=>t().top.artists[0])},visible:!0})},R=M=>{var F=ae(),P=j(F);{var U=D=>{Ga(D,{get tracks(){return b(t()),h(()=>t().top.tracks)},visible:!0})},Y=D=>{var G=ae(),le=j(G);{var q=X=>{{let re=K(()=>(b(t()),h(()=>t().time_patterns.by_hour.map((ie,Q)=>({hour:Q,plays:ie})))));Qa(X,{get hourly_data(){return o(re)},visible:!0})}},se=X=>{var re=ae(),ie=j(re);{var Q=fe=>{an(fe,{get stats(){return b(t()),h(()=>t().time_patterns.quirky)},visible:!0})},_e=fe=>{var ve=ae(),ce=j(ve);{var Xe=ye=>{sn(ye,{get personality(){return b(t()),h(()=>t().ai_generated.personality)},visible:!0})},Ae=ye=>{var $e=ae(),Kt=j($e);{var Qt=ke=>{cn(ke,{get aura(){return b(t()),h(()=>t().ai_generated.aura)},visible:!0})},Jt=ke=>{var _t=ae(),Zt=j(_t);{var er=Te=>{vn(Te,{get roasts(){return b(t()),h(()=>t().ai_generated.roasts)},visible:!0})},tr=Te=>{var ht=ae(),rr=j(ht);{var ar=Ee=>{xn(Ee,{get narrative(){return b(t()),h(()=>t().ai_generated.narrative)},visible:!0})},nr=Ee=>{var gt=ae(),ir=j(gt);{var sr=Se=>{{let Ye=K(()=>(b(t()),h(()=>t().ai_generated.suggestions||[])));Tn(Se,{get suggestions(){return o(Ye)},get year(){return b(t()),h(()=>t().user.year)},visible:!0})}},or=Se=>{var Ye=ae(),lr=j(Ye);{var cr=Ke=>{{let ur=K(()=>(b(t()),h(()=>t().top.artists[0]?{name:t().top.artists[0].name,plays:t().top.artists[0].plays}:null))),dr=K(()=>(b(t()),h(()=>t().ai_generated.aura.hex||t().ai_generated.aura.colors?.[0]||"#1DB954")));Nn(Ke,{get userName(){return b(t()),h(()=>t().user.name)},get year(){return b(t()),h(()=>t().user.year)},get totalMinutes(){return b(t()),h(()=>t().stats.total_minutes)},get topArtist(){return o(ur)},get personalityType(){return b(t()),h(()=>t().ai_generated.personality.type)},get auraColor(){return o(dr)},get auraVibe(){return b(t()),h(()=>t().ai_generated.aura.vibe)},visible:!0})}};O(lr,Ke=>{o(r),h(()=>n[o(r)]==="share")&&Ke(cr)},!0)}E(Se,Ye)};O(ir,Se=>{o(r),h(()=>n[o(r)]==="nextYear")?Se(sr):Se(or,!1)},!0)}E(Ee,gt)};O(rr,Ee=>{o(r),h(()=>n[o(r)]==="narrative")?Ee(ar):Ee(nr,!1)},!0)}E(Te,ht)};O(Zt,Te=>{o(r),h(()=>n[o(r)]==="roasts")?Te(er):Te(tr,!1)},!0)}E(ke,_t)};O(Kt,ke=>{o(r),h(()=>n[o(r)]==="aura")?ke(Qt):ke(Jt,!1)},!0)}E(ye,$e)};O(ce,ye=>{o(r),h(()=>n[o(r)]==="personality")?ye(Xe):ye(Ae,!1)},!0)}E(fe,ve)};O(ie,fe=>{o(r),h(()=>n[o(r)]==="quirkyStats")?fe(Q):fe(_e,!1)},!0)}E(X,re)};O(le,X=>{o(r),h(()=>n[o(r)]==="listeningClock")?X(q):X(se,!1)},!0)}E(D,G)};O(P,D=>{o(r),h(()=>n[o(r)]==="topTracks")?D(U):D(Y,!1)},!0)}E(M,F)};O(C,M=>{o(r),h(()=>n[o(r)]==="topArtist")?M(S):M(R,!1)},!0)}E(T,L)};O(u,T=>{o(r),h(()=>n[o(r)]==="totalTime")?T(g):T(w,!1)},!0)}E(y,A)};O(_,y=>{o(r),h(()=>n[o(r)]==="intro")?y(v):y(k,!1)})}p(c),he("click",c,s),he("keypress",c,y=>y.key==="Enter"&&s()),E(e,c),Z()}export{On as default};
